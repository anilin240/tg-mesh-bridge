# üî§ –£–ù–ò–§–ò–ö–ê–¶–ò–Ø –¢–ï–†–ú–ò–ù–û–õ–û–ì–ò–ò: TG-–ö–û–î vs NODE ID

**–î–∞—Ç–∞:** 14 –∞–≤–≥—É—Å—Ç–∞ 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

---

## üéØ –¶–ï–õ–¨

–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é, —á—Ç–æ–±—ã —Ä–∞–∑–ª–∏—á–∞—Ç—å:
- **TG-–∫–æ–¥** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- **Node ID** - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä MeshTastic —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

---

## üîç –ê–ù–ê–õ–ò–ó –°–£–©–ï–°–¢–í–£–Æ–©–ï–ô –¢–ï–†–ú–ò–ù–û–õ–û–ì–ò–ò

### ‚úÖ –£–ñ–ï –ü–†–ê–í–ò–õ–¨–ù–û –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø

#### –ö–ª—é—á `dev.enter_node_id` –≤ i18n:
- **RU:** "–û—Ç–ø—Ä–∞–≤—å—Ç–µ <b>Node ID</b> —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (—á–∏—Å–ª–æ/hex):"
- **EN:** "Send device <b>Node ID</b> (int/hex):"

#### –í—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
- ‚úÖ `app/src/bot/handlers/menu.py:77` - —á–µ—Ä–µ–∑ i18n
- ‚úÖ `app/src/bot/main.py:236` - —á–µ—Ä–µ–∑ i18n  
- ‚úÖ `app/src/bot/handlers/devices.py:40` - —á–µ—Ä–µ–∑ i18n

### üîß –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ú–ï–°–¢–ê

#### 1. –•–∞—Ä–¥–∫–æ–¥ —Å—Ç—Ä–æ–∫–∞ –≤ consumer.py
**–§–∞–π–ª:** `app/src/bridge/consumer.py:54`
- ‚ùå **–ë—ã–ª–æ:** `text=f"Node {mesh_from} has been linked to your account."`
- ‚úÖ **–°—Ç–∞–ª–æ:** `text=t(lang, "system.node_linked", node_id=mesh_from)`

#### 2. –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π i18n –∫–ª—é—á
**–§–∞–π–ª:** `app/src/common/i18n.py`
- ‚úÖ **RU:** `"system.node_linked": "–ù–æ–¥–∞ {node_id} –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –≤–∞—à–µ–º—É –∞–∫–∫–∞—É–Ω—Ç—É."`
- ‚úÖ **EN:** `"system.node_linked": "Node {node_id} has been linked to your account."`

---

## üìã –°–ü–ò–°–û–ö –ü–†–û–í–ï–†–ï–ù–ù–´–• –§–ê–ô–õ–û–í

### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã (—Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è):
- `app/src/bot/handlers/menu.py` - –≤—Å–µ —á–µ—Ä–µ–∑ i18n
- `app/src/bot/main.py` - –≤—Å–µ —á–µ—Ä–µ–∑ i18n
- `app/src/bot/handlers/devices.py` - –≤—Å–µ —á–µ—Ä–µ–∑ i18n
- `app/src/bot/keyboards/menu.py` - –≤—Å–µ —á–µ—Ä–µ–∑ i18n
- `app/src/common/i18n.py` - —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞

### ‚úÖ Bridge —Ñ–∞–π–ª—ã (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ):
- `app/src/bridge/consumer.py` - —Ö–∞—Ä–¥–∫–æ–¥ –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ i18n

### ‚úÖ –ú–æ–¥–µ–ª–∏ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ (–Ω–µ —Ç—Ä–µ–±—É—é—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π):
- `app/src/common/models.py` - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü
- `app/alembic/versions/*.py` - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π

### ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ):
- `infra/test_*.py` - —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢ –£–ù–ò–§–ò–ö–ê–¶–ò–ò

### ‚úÖ –¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è —Ç–µ–ø–µ—Ä—å —á—ë—Ç–∫–æ —Ä–∞–∑–ª–∏—á–∞–µ—Ç—Å—è:

#### **TG-–∫–æ–¥** (–¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π):
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ Mesh
- –§–æ—Ä–º–∞—Ç: `@tg:ABCD1234 —Å–æ–æ–±—â–µ–Ω–∏–µ`
- –ö–ª—é—á–∏: `code.*`, `menu.code`

#### **Node ID** (–¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤):
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ MeshTastic —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –§–æ—Ä–º–∞—Ç: —á–∏—Å–ª–æ –∏–ª–∏ 0xHEX
- –ö–ª—é—á–∏: `dev.enter_node_id`, `system.node_linked`

### ‚úÖ –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ i18n:

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤:
- ‚úÖ "–û—Ç–ø—Ä–∞–≤—å—Ç–µ **Node ID** —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (—á–∏—Å–ª–æ/hex):"
- ‚úÖ "Send device **Node ID** (int/hex):"

#### –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–∏–≤—è–∑–∫–∏:
- ‚úÖ "–ù–æ–¥–∞ {node_id} –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –≤–∞—à–µ–º—É –∞–∫–∫–∞—É–Ω—Ç—É."
- ‚úÖ "Node {node_id} has been linked to your account."

#### –°–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤:
- ‚úÖ "‚Ä¢ **{label}** (ID: {node_id}) ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–π —à–ª—é–∑: {gw}"
- ‚úÖ "‚Ä¢ **{label}** (ID: {node_id}) ‚Äî last GW: {gw}"

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. **`app/src/common/i18n.py`** - –¥–æ–±–∞–≤–ª–µ–Ω –∫–ª—é—á `system.node_linked`
2. **`app/src/bridge/consumer.py`** - —Ö–∞—Ä–¥–∫–æ–¥ –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ i18n

### –ù–æ–≤—ã–µ i18n –∫–ª—é—á–∏:
- `system.node_linked` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–∏–≤—è–∑–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–ª—é—á–∏:
- `dev.enter_node_id` - –∑–∞–ø—Ä–æ—Å Node ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- `dev.item` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Å–ø–∏—Å–∫–µ
- `dev.edit_device` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

---

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞:**

1. ‚úÖ **TG-–∫–æ–¥** - —á—ë—Ç–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–¥–æ–≤
2. ‚úÖ **Node ID** - —á—ë—Ç–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤
3. ‚úÖ **–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è** - —á–µ—Ä–µ–∑ i18n —Å–∏—Å—Ç–µ–º—É
4. ‚úÖ **–ù–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥–∞** - –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω—ã
5. ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ ru/en** - –≤—Å–µ –∫–ª—é—á–∏ –≤ –æ–±–µ–∏—Ö —è–∑—ã–∫–∞—Ö

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–æ–ª—å—à–µ –Ω–µ –±—É–¥—É—Ç –ø—É—Ç–∞—Ç—å TG-–∫–æ–¥ –∏ Node ID!** üéØ
