#!/usr/bin/env python3
"""
–¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
"""

def test_new_message_format():
    """–¢–µ—Å—Ç–∏—Ä—É–µ–º –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è"""
    
    # –°–∏–º—É–ª–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ MQTT —Å–æ–æ–±—â–µ–Ω–∏—è
    mesh_from = 1879503494  # ID –≤–∞—à–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
    message_text = "–ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –Ω–æ–≤—ã–º –∫—Ä–∞—Å–∏–≤—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º! üéâ"
    
    # –ü–æ–ª—É—á–∞–µ–º –∫—Ä–∞—Å–∏–≤–æ–µ –∏–º—è –Ω–æ–¥—ã (—Å–∏–º—É–ª–∏—Ä—É–µ–º)
    display_name = "Shpil_portable"  # –≠—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω–æ –∏–∑ get_node_display_name()
    
    # –°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç
    old_format = f"[from {display_name}] {message_text}".strip()
    
    # –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
    new_format = f"<b>@{display_name}</b>: {message_text}".strip()
    
    print("=== –¢–µ—Å—Ç –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π ===")
    print(f"Node ID: {mesh_from}")
    print(f"Display name: {display_name}")
    print(f"Message text: {message_text}")
    print()
    print("–°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç:")
    print(f"'{old_format}'")
    print()
    print("–ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç (HTML):")
    print(f"'{new_format}'")
    print()
    print("–ö–∞–∫ —ç—Ç–æ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –≤ Telegram:")
    print("**@Shpil_portable**: –ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –Ω–æ–≤—ã–º –∫—Ä–∞—Å–∏–≤—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º! üéâ")
    print()
    print("‚úÖ –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!")

if __name__ == "__main__":
    test_new_message_format()
